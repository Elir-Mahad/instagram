/*! For license information please see main.f745648f.chunk.js.LICENSE.txt */
(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{44:function(e,a,t){e.exports=t(67)},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(12),o=t.n(r),l=(t(49),t(18)),s=(t(50),t(17)),i=(t(51),t(94),t(13)),u=t.n(i),m=u.a.initializeApp({apiKey:"AIzaSyDd8KSUe2F6AS2WXSqwKKIXLKDxKFfjtm4",authDomain:"instagram-a3c9d.firebaseapp.com",databaseURL:"https://instagram-a3c9d.firebaseio.com",projectId:"instagram-a3c9d",storageBucket:"instagram-a3c9d.appspot.com",messagingSenderId:"729329518783",appId:"1:729329518783:web:0154d95c1eb23d02429e0a",measurementId:"G-Z3NXSRWP0Q"}).firestore(),p=(u.a.auth(),u.a.storage());var d=t(90),g=t(91),f=t(93),h=t(92);t(66);var b=function(e){var a=e.username,t=Object(n.useState)(null),r=Object(s.a)(t,2),o=r[0],l=r[1],i=Object(n.useState)(0),d=Object(s.a)(i,2),g=d[0],f=d[1],b=Object(n.useState)(""),v=Object(s.a)(b,2),E=v[0],j=v[1];return c.a.createElement("div",{className:"imageupload"},c.a.createElement("progress",{className:"imageupload_progress",value:g,max:"100"}),c.a.createElement("input",{type:"text",placeholder:"Enter a caption ...",onChange:function(e){return j(e.target.value)},value:E}),c.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&l(e.target.files[0])}}),c.a.createElement(h.a,{className:"imageupload_button",onClick:function(){p.ref("images/".concat(o.name)).put(o).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);f(a)}),(function(e){console.log(e)}),(function(){p.ref("images").child(o.name).getDownloadURL().then((function(e){m.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),caption:E,imageUrl:e,username:a}),f(0),j(""),l(null)}))}))}},"Upload"))};function v(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var E=Object(d.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var j=function(){var e=E(),a=Object(n.useState)([]),t=Object(l.a)(a,2),r=t[0],o=t[1],s=Object(n.useState)(v),u=Object(l.a)(s,1)[0],p=Object(n.useState)(!1),d=Object(l.a)(p,2),j=d[0],w=d[1],O=Object(n.useState)(!1),S=Object(l.a)(O,2),y=S[0],_=S[1],N=Object(n.useState)(""),C=Object(l.a)(N,2),k=C[0],I=C[1],x=Object(n.useState)(""),A=Object(l.a)(x,2),D=A[0],K=A[1],U=Object(n.useState)(""),W=Object(l.a)(U,2),B=W[0],L=W[1],P=Object(n.useState)(null),F=Object(l.a)(P,2),R=F[0],X=F[1];return Object(n.useEffect)((function(){var e=Object(i.auth)().onAuthStateChanged((function(e){e?(console.log(e),X(e)):X(null)}));return function(){e()}}),[R,k]),Object(n.useEffect)((function(){m.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){o(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),c.a.createElement("div",{className:"app"},c.a.createElement(g.a,{open:j,onClose:function(){return w(!1)}},c.a.createElement("div",{style:u,className:e.paper},c.a.createElement("form",null,c.a.createElement("center",{className:"app_signup"},c.a.createElement("img",{className:"app_headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),c.a.createElement(f.a,{type:"text",placeholder:"username",value:k,onChange:function(e){return I(e.target.value)}}),c.a.createElement(f.a,{type:"text",placeholder:"email",value:D,onChange:function(e){return K(e.target.value)}}),c.a.createElement(f.a,{type:"text",placeholder:"password",value:B,onChange:function(e){return L(e.target.value)}}),c.a.createElement(h.a,{type:"submit",onClick:function(e){e.preventDefault(),Object(i.auth)().createUserWithEmailAndPassword(D,B).then((function(e){e.user.updateProfile({displayName:k})})).catch((function(e){return alert(e.message)}))}},"Sign up"))))),c.a.createElement(g.a,{open:y,onClose:function(){return _(!1)}},c.a.createElement("div",{style:u,className:e.paper},c.a.createElement("form",null,c.a.createElement("center",{className:"app_signup"},c.a.createElement("img",{className:"app_headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),c.a.createElement(f.a,{type:"text",placeholder:"email",value:D,onChange:function(e){return K(e.target.value)}}),c.a.createElement(f.a,{type:"text",placeholder:"password",value:B,onChange:function(e){return L(e.target.value)}}),c.a.createElement(h.a,{type:"submit",onClick:function(e){e.preventDefault(),Object(i.auth)().signInWithEmailAndPassword(D,B).catch((function(e){return alert(e.message)})),_(!1)}},"Sign In"))))),c.a.createElement("div",{className:"app_header"},c.a.createElement("img",{className:"app_headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),R?c.a.createElement(h.a,{onClick:function(){return Object(i.auth)().signOut()}}," Sign out "):c.a.createElement("div",{className:"app_loginContainer"},c.a.createElement(h.a,{onClick:function(){return _(!0)}}," Sign in "),c.a.createElement(h.a,{onClick:function(){return w(!0)}}," Sign up "))),c.a.createElement("div",{className:"app_posts"},c.a.createElement("div",{className:"app_postsLeft"},r.map((function(e){e.id,e.post})))),(null===R||void 0===R?void 0:R.displayName)?c.a.createElement(b,{username:R.displayName}):c.a.createElement("h3",null," Login to upload"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.f745648f.chunk.js.map